# Bank Card Management System

Система управления банковскими картами с аутентификацией JWT и ролевой моделью доступа.

## Функциональность

- Аутентификация и авторизация (JWT)
- Управление пользователями (только для администраторов)
- Создание и управление банковскими картами
- Переводы между картами
- Просмотр баланса и истории операций

## Технологии

- Java 17
- Spring Boot 3.2.0
- Spring Security
- JWT
- PostgreSQL
- Liquibase
- Docker
- OpenAPI/Swagger

## Запуск приложения

### Способ 1: Docker Compose (рекомендуемый)

1. Убедитесь, что у вас установлены Docker и Docker Compose
2. Клонируйте репозиторий
3. Выполните команду: `docker-compose up -d`
4. Приложение будет доступно по адресу: http://localhost:8080/api
5. Документация API: http://localhost:8080/api/swagger-ui.html

### Способ 2: Локальный запуск

1. Установите PostgreSQL и создайте базу данных `bank_db`
2. Обновите настройки в `application.yml`
3. Соберите приложение: `mvn clean package`
4. Запустите приложение: `java -jar target/card-management-system-1.0.0.jar`

## Начальные данные

После запуска приложения будут созданы тестовые пользователи:

- Администратор: username=`admin`, password=`admin123`
- Пользователь: username=`user1`, password=`user123`

## API Endpoints

### Аутентификация

- `POST /auth/login` - вход в систему

### Карты (требуют аутентификации)

- `GET /cards/my` - получение списка своих карт
- `GET /cards/{id}` - получение информации о карте
- `POST /cards/transfer` - перевод между своими картами

### Административные endpoints

- `GET /cards` - получение всех карт (только для администраторов)
- `POST /cards` - создание новой карты (только для администраторов)
- `GET /users` - управление пользователями (только для администраторов)

## Безопасность

- Все данные (номера карт, CVV) шифруются в базе данных
- Пароли хранятся в хэшированном виде
- Реализована JWT аутентификация
- Настроена ролевая модель доступа

## Миграции базы данных

Миграции управляются с помощью Liquibase и выполняются автоматически при запуске приложения.